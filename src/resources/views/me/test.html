<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Draggable File Upload</title>
        <style>
            #file_input {
                width: 300px;
                height: 200px;
                border: 2px dashed #ccc;
                text-align: center;
                line-height: 200px;
                margin: 20px auto;
            }
        </style>
    </head>
    <body>
        <form>
            <input type="file" id="file_input" name="file_input" multiple />
        </form>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var searchInputContainer = document.getElementById("navbar-search");
                var searchInput = document.getElementById("search-input");
                var searchResult = document.getElementById("search-result");

                searchInputContainer.addEventListener("focus", function () {
                    searchResult.style.display = "block";
                });

                searchInput.addEventListener("blur", function (e) {
                    // Check if the next element is part of the search result
                    if (!searchResult.contains(e.relatedTarget)) {
                        searchResult.style.display = "none";
                    }
                });

                searchInputContainer.addEventListener("blur", function (e) {
                    // Check if the next element is part of the search result
                    if (!searchResult.contains(e.relatedTarget)) {
                        searchResult.style.display = "none";
                    }
                });

                searchInput.addEventListener("input", function () {
                    searchResult.style.display = "block";
                    var valueAppend = document.getElementById("search-value-append");
                    valueAppend.textContent = '"' + searchInput.value + '"';
                    var txt_searchValue = searchInput.value;
                    $.ajax({
                        url: "courses/search",
                        method: "POST",
                        contentType: "application/json",
                        data: JSON.stringify({ txt_value: txt_searchValue }),
                        success: function (data) {
                            console.log("success !");
                            console.log(data); // Data received from the server
                            // Handle data here without changing content
                        },
                        error: function (error) {
                            console.log(error);
                        },
                    });
                });
            });
        </script>
    </body>
</html>
